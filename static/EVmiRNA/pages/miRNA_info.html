<div class="fhead">
    <div class="container" style="padding-top:10px">
    <span   style="font-size:30px;color:white;"><b>miRNA Detail Information</b> <span><br>
    <span style="color:white;font-size:20px">miRNA Basic information, Expression, Pathway regulation, miRNA function, etc.</span>
    </div>
</div>

<br>
<br>



<style type="text/css">
.btn .btn-default{
    width: 140px;
    margin-top: 20px;
    border-radius: 4px;
    border: 1px solid #ddd;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.067);
}
#navbutton{
    font-size:large;
}
</style>


    <div class="container">
        <div class="row">
            <div class="col-xs-2">
                <div id="navbutton" class="btn-group-vertical" style="position:fixed;text-align:left">
                    <button type="button" class="btn btn-default" id="bainfo" ng-click="gotoAnchor(1)">Basic information</button>
                    <button type="button" class="btn btn-default" id="exp" ng-click="gotoAnchor(2)">Expression</button>
                    <button type="button" ng-show="pathinfo" class="btn btn-default" id="pat" ng-click="gotoAnchor(4)">Pathway</button>
                    <button type="button" ng-show="funcinfo" class="btn btn-default" id="fun" ng-click="gotoAnchor(5)">Function</button>
                    <button type="button" ng-show="druginfo" class="btn btn-default" id="dru" ng-click="gotoAnchor(6)">Drug</button>
                    <button type="button" ng-show="pubinfo" class="btn btn-default" id="pub" ng-click="gotoAnchor(7)">Publication</button>
                    <button type="button" ng-show="tarinfo" class="btn btn-default" id="tar" ng-click="gotoAnchor(3)">Target</button>   
                </div>
            </div>

  <div class="col-xs-10">
          <div class="panel panel-default" id="anchor1">
                    <div class="panel-heading">
                        <b>Basic information of miRNA: {$ query_miRNA $}</b>
                    </div>
                    <div class="panel-body">
                        <dl class="dl-horizontal" ng-repeat="miRNA in mirna_basic_list">
                        <dt>miRNA id:</dt>
                        <dd>{$ miRNA.mirna $}</dd>
                        <dt>miRNA accession:</dt>
                        <dd><a href="http://www.mirbase.org/cgi-bin/mature.pl?mature_acc={$ miRNA.accession $}">{$ miRNA.accession $}</a></dd>
                        <dt>Mature sequence:</dt>
                        <dd style="word-wrap:break-word;"><strong>{$ miRNA.first_base $}<span style="color:red;">{$ miRNA.two_to_eight $}</span>{$ miRNA.the_remaining $}</strong></dd>
                        <dt>Precursor:</dt>
                        <dd><a href="http://www.mirbase.org/cgi-bin/mirna_entry.pl?acc={$ miRNA.pre_acc $}" target="_blank">{$ miRNA.premirna $}</a></dd>
                        <dt>Position:</dt>
                        <dd>{$ miRNA.chromosome $}:{$ miRNA.start $}-{$ miRNA.end $}</dd>
                        <dt>miRNA Family:</dt>
                        <dd>{$ miRNA.family $}</dd>
                        <!--<dt>pre-miRsequence:</dt>-->
                        <!--<dd style="word-wrap:break-word">{$ miRNA.pre_seq $}</dd>-->
                         </dl>
                    </div>
                </div>


          <div class="panel panel-default" id="anchor2">
            		<div class="panel-heading">
                	<b >miRNA Expression</b>
            		</div>
            		<div class="panel-body">
                  <b>{$ query_miRNA $} Expression of  Extracellular Vesicles</b>
                  <br>
                <div class="checkbox" role="group">
                    <label>
                        <input type="radio" name="optionsRadios" ng-click="draw_exp_mv_source()" checked>Microvesicles Source
                      </label>
                    <!-- <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default" class="source_mv" ng-click="draw_source_mv()">Source_mv_exo</button>
                    </div> -->
                    <label>
                        <input type="radio" name="optionsRadios" ng-click="draw_exp_mv_cancer()">Microvesicles Cancer
                    </label>
                    <label>
                        <input type="radio" name="optionsRadios" ng-click="draw_exp_exo_source()">Exosomes Source
                    </label>
                    <label>
                        <input type="radio" name="optionsRadios" ng-click="draw_exp_exo_cancer()">Exosomes Cancer
                    </label>
                </div>

                <!-- <div class="btn-group btn-group-justified" role="group">
                        <div class="btn-group" role="group">
                          <button type="button" class="btn btn-default" class="source" ng-click="expSourceBox()">Source Box</button>
                        </div>
                        <div class="btn-group" role="group">
                          <button type="button" class="btn btn-default" class="source_mv" ng-click="expSourcemvBox()">Source_mv_exo Box</button>
                        </div>
                        <div class="btn-group" role="group">
                          <button type="button" class="btn btn-default"  class="cancer" ng-click="expCancerBox()">Cancer Box</button>
                        </div>
                        <div class="btn-group" role="group">
                          <button type="button" class="btn btn-default" class="cellline" ng-click="expCelllineBox()">Cell line Box</button>
                        </div>
                  </div>
                    <input type="radio" name="outliner" value="1"/>add <input type="radio" name="outliner" value="0"/>remove -->
                    <div class="row">
                        <div id="barContainer"  style="height:500px;width:100%;text-align:center;">
                        </div>
                    </div>
                    <br>
                    <br>
                    <b ng-show="tcgainfo">{$ query_miRNA $} Expression of  TCGA</b>
                    <br>
                    <div class="row"  ng-show="tcgainfo">
                        <div id="tcgadataContainer" style="height:500px;width:100%;text-align:center;"></div>
                    </div>
                </div>
                </div>

        <div  class="panel panel-default" id="anchor4" ng-show="pathinfo">
            <div class="panel-heading">
              <div class="row">
              <div class="col-lg-6">
                <b>Pathway information</b>
              </div>
              <div class="col-lg-6" style="text-align:right">
                <a href="" ng-click="downloadkegg()">Download</a>
              </div>
              </div>
            </div>
            <div class="panel-body">

            <div class="table-responcive"  style="overflow:scroll;overflow-x:hidden;width:100%;height:auto;max-height:300px;">
            <div class="form-inline">
            <b>Filter Pathway:&nbsp&nbsp</b>
            <input style="width:30%" class="form-control" ng-model="search1.kegg"  placeholder="TP53" >
            </div>
            <br>
                <table class="table table-bordered table-striped" style="table-layout:fixed;">
                    <thead>
                    <tr class="success">
                        <!-- <th class="col-xs-1">#</th> -->
                        <th class="col-xs-1">KEGG id</th>
                        <th class="col-xs-2">KEGG description</th>
                        <th class="col-xs-4">Genes</th>
                        <th class="col-xs-2">p value</th>
                        <!--<th class="col-xs-2">possibility</th>-->
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in mirna_pathway_list | filter:search1">
                    <!-- <td>{$ $index+1 $}</td> -->
                    <td><a href="http://www.kegg.jp/kegg-bin/show_pathway?{$ item.kegg $}" target="_blank" class="col">{$ item.kegg $}</a></td>
                    <td>{$ item.kegg_dscp $}</td>
                    <td style="word-wrap:break-word"><span ng-repeat="i in item.gene "><a href="https://www.ncbi.nlm.nih.gov/gene/?term={$ i $}" target="_blank">{$ i $}&nbsp;</a></span></td>
                    <td>{$ item.pvalue $}</td>
                    <!--<td>{$ item.possibility $}</td>-->
                    </tr>
                    </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="panel panel-default" id="anchor5" ng-show="funcinfo">
            <div class="panel-heading">
                <b>Function</b>
            </div>
            <div class="panel-body">
            
                <div class="form-inline">
                <b>Filter Function:&nbsp&nbsp</b>
                <input style="width:30%" class="form-control" ng-model="search2.mir_function"  placeholder="cancer" >
                </div>
                <br>
                
                <div class="table-responcive" style="width:100%;max-height:300px;overflow:scroll;height:auto;">
                    <table class="table table-condensed  table-responsive table-striped table-hover">
                        <thead>
                            <tr class="success">
                                <th class="col-xs-1">miRNA id</th>
                                <th class="col-xs-7">miRNA Function</th>
                                <!-- <th class="col-xs-2">timestamps</th> -->
                                <th class="col-xs-2">Pubmed</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in mirna_function_list | filter:search2">
                            <td>{$ item.mirna $}</td>
                            <td>{$ item.mir_function $}</td>
                            <!-- <td>{$ item.timestamps $}</td> -->
                            <td><a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={$ item.pubmed_id $}" target="_blank">{$ item.pubmed_id $}</a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="panel panel-default" id="anchor6" ng-show="druginfo">
          <div class="panel-heading">
            <b>Small molecular drug to {$ query_miRNA $}</b>
        </div>
          <div class="panel-body">
          <div style="overflow:scroll;overflow-x:hidden;width:100%;height:auto;max-height:300px;">
            <ol>
                <li ng-repeat="item in molecular_drug">
                <dl class="dl-horizontal">
                        <dt>Small molecule:</dt><dd>{$ item["small melocule"] $}</dd>
                        <dt>Condition:</dt><dd>{$ item.Condition $}</dd>
                        <dt>miRNA expression:</dt><dd>{$ item["Expression pattern of miRNA"] $}</dd>
                        <dt>Support:</dt><dd>{$ item.Support $}</dd>
                        <dt>miRBase:</dt><dd>{$ item.miRBase $}</dd>
                        <dt>Detection method:</dt><dd>{$ item["Detection method"] $}</dd>
                        <dt>Pubmed id:</dt><dd><a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={$ item.PMID $}" target="_blank">{$ item.PMID $}</a></dd>
                        <dt>DB:</dt><dd>{$ item.DB $}</dd>
                        <dt>CID:</dt><dd>{$ item.CID $}</dd>
                        <dt>FDA:</dt><dd>{$ item.FDA $}</dd>
                        <dt>Reference:</dt><dd style="word-wrap:break-word;">{$ item.Reference $}</dd>
                </dl>
                </li>
            </ol>
            </div>
        </div>
        </div>

        <div class="panel panel-default"  id="anchor7" ng-show="pubinfo">
            <div class="panel-heading">
                <b>Publication</b>
            </div>
            <div class="panel-body">
            <div class="form-inline">
            <b>Filter Publication:&nbsp&nbsp</b>
            <input style="width:30%" class="form-control" ng-model="search3.title"  placeholder="cancer" >
            </div>
            <br>
                <div style="width:100%;height:auto;overflow:scroll;overflow-x:hidden;max-height:300px;">
                    <ol>
                    <li ng-repeat="item in mirna_pubmed_list | filter:search3">
                    <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={$ item.PMID $}" class="col" target="_blank"><b>{$ item.title $}</b></a><br>
                    PMID:<a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={$ item.PMID $}" target="_blank">{$ item.PMID $}</a>&nbsp;&nbsp;&nbsp;&nbsp;{$ item.journal $}&nbsp;&nbsp;{$ item.year $}<br>
                    </li>
                </ol>
              </div>
            </div>
        </div>



    <div class="panel panel-default" id="anchor3" ng-show="tarinfo">
        <div class="panel-heading">
            <div class="row">
                <div class="col-lg-6">
                    <b> miRNA target information</b>
                </div>
                <div class="col-lg-6" style="text-align:right">
                    <a href="" ng-click="download()">Download</a>
                </div>
            </div>
        </div>
        <div class="panel-body ">
            <div class="form-inline">
            <b>Filter Target by Symbol:&nbsp&nbsp</b>
            <input style="width:30%" class="form-control" ng-model="search4.target_symbol"  placeholder="TP53" >
            </div>
            <br>
            <div style="width:100%;max-height:300px;overflow:scroll;overflow-x:hidden;height:auto;" >
            <table class="table table-bordered table-condensed" >
                <thead>
                    <tr class="success">
                        <th class="col-md-2 text-center">
                        <a href="" ng-click="sortType1 = 'target_symbol'; sortReverse1 = !sortReverse1"><b>Target symbol</b></a>&nbsp&nbsp&nbsp<span ng-show="sortType1 == 'target_symbol' && !sortReverse1" class="fa fa-caret-up"></span><span ng-show="sortType1 == 'target_symbol' && sortReverse1" class="fa fa-caret-down"></span>
                        </th>
                        <th class="col-md-2 text-center" >Target chromosome</th>
                        <th class="col-md-3 text-center">Target start</th>
                        <th class="col-md-3 text-center">Target end</th>
                        <th class="col-md-2 text-center">Type</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in mirna_target_list_all | filter:search4 | orderBy:sortType1:sortReverse1 ">
                        <td><a href="https://www.ncbi.nlm.nih.gov/gene/?term={$ item.target_symbol $}" target="_blank">{$ item.target_symbol $}</a></td>
                        <td>{$ item.target_chr $}</td>
                        <td>{$ item.target_start $}</td>
                        <td>{$ item.target_end $}</td>
                        <td>{$ item.p_v $}</td>
                    </tr>
                </tbody>
            </table>
            </div>
              
        </div>
    </div>
  </div>
  </div>
  </div>
  
<style type="text/css">
    .st-sort-ascent:before{
        content: '\25B2';
        }

    .st-sort-descent:before{
        content: '\25BC';
        }
</style>
